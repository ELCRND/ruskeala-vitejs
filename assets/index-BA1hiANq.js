(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();class g{constructor(){this.SLIDER=document.querySelector(".about__slider"),this.WRAPPER=this.SLIDER.querySelector(".about__slider-wrapper"),this.LIST=this.SLIDER.querySelector(".about__slider-list"),this.SLIDES=this.LIST.querySelectorAll(".about__slider-item"),this.PREV=this.SLIDER.querySelector(".about__slider-btn--prev"),this.NEXT=this.SLIDER.querySelector(".about__slider-btn--next"),this.INNER_SLIDER=null,this.INNER_SLIDES=null,this.PAGINATION_CONTAINER=this.SLIDER.querySelector(".about__slider-pagination"),this.PAGINATION_BULLETS=[],this.slideSize=0,this.totalSlides=0,this.currentSlide=0,this.slideSizeInner=0,this.totalSlidesInner=0,this.currentSlideInner=0,this.touchStartX=0,this.touchEndX=0,this.touchStartY=0,this.touchEndY=0,this.minSwipeDistance=50,this.handlePrev=()=>this.prev(),this.handleNext=()=>this.next(),this.handleResize=()=>this.resize(),this.handleTouchStart=e=>this.touchStart(e),this.handleTouchEnd=e=>this.touchEnd(e)}get offset(){return this.slideSize*this.currentSlide}get offsetInner(){return this.slideSizeInner*this.currentSlideInner}get isMobile(){return window.matchMedia("(max-width: 767px)").matches}get isLast(){return this.currentSlide>=this.totalSlides-1&&this.currentSlideInner>=this.totalSlidesInner-1}get isFirst(){return this.currentSlide<=0&&this.currentSlideInner<=0}get isInner(){return this.currentSlideInner<this.totalSlidesInner-1}init(){if(!this.LIST.firstElementChild){console.error("slides not found");return}this.setSize(),this.setTotal(),this.setInnerSlider(),this.setSizeInner(),this.createPagination(),this.on()}setSize(){this.slideSize=this.LIST.firstElementChild.getBoundingClientRect().width}setTotal(){this.totalSlides=this.LIST.childElementCount}setSizeInner(){this.INNER_SLIDER.childElementCount&&(this.slideSizeInner=this.INNER_SLIDER.querySelector("li:not(.inner-slider__item--active)").getBoundingClientRect().width)}setInnerSlider(){this.INNER_SLIDER=this.SLIDES[this.currentSlide].querySelector(".inner-slider__list"),this.INNER_SLIDES=this.INNER_SLIDER.querySelectorAll(".inner-slider__item"),this.totalSlidesInner=this.INNER_SLIDES.length}on(){this.PREV.addEventListener("click",this.handlePrev),this.NEXT.addEventListener("click",this.handleNext),this.LIST.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.LIST.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("resize",this.handleResize)}off(){this.PREV.removeEventListener("click",this.handlePrev),this.NEXT.removeEventListener("click",this.handleNext),this.LIST.removeEventListener("touchstart",this.handleTouchStart),this.LIST.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("resize",this.handleResize)}prev(){if(!this.isFirst){if(this.currentSlideInner>0){this.innerPrev();return}this.currentSlide--,this.setInnerSlider(),this.currentSlideInner=this.INNER_SLIDES.length-1,this.updateInner(),this.update(),this.checkBlockBtns()}}next(){if(!this.isLast){if(this.isInner){this.innerNext();return}this.currentSlide++,this.setInnerSlider(),this.currentSlideInner=0,this.updateInner(),this.update(),this.checkBlockBtns()}}innerNext(){this.currentSlideInner++,this.updateInner(),this.checkBlockBtns()}innerPrev(){this.currentSlideInner--,this.updateInner(),this.checkBlockBtns()}update(){this.LIST.style=`translate: -${this.offset}px 0`,this.SLIDES.forEach((e,t)=>{e.classList.remove("about__slider-item--active"),t==this.currentSlide&&e.classList.add("about__slider-item--active")}),this.setActivePaginationItem()}updateInner(){this.INNER_SLIDER.style=`translate: -${this.offsetInner}px 0`,this.INNER_SLIDES.forEach((e,t)=>{e.classList.remove("inner-slider__item--active"),t==this.currentSlideInner&&e.classList.add("inner-slider__item--active")}),this.setActivePaginationProgress()}checkBlockBtns(){this.PREV.disabled=!1,this.NEXT.disabled=!1,this.isFirst&&(this.PREV.disabled=!0),this.isLast&&(this.NEXT.disabled=!0)}createPagination(){const e=document.querySelectorAll(".inner-slider__list");for(let t=0;t<e.length;t++){const i=document.createElement("div");i.classList.add("pagination__item"),i.setAttribute("data-pagination-item",t);const s=document.createElement("button");s.classList.add("pagination__btn"),s.type="button",s.ariaLabel=t+1+" —Å–ª–∞–π–¥",this.PAGINATION_BULLETS.push(s),i.appendChild(s);for(let n=0;n<e[t].childElementCount;n++){const r=document.createElement("div");r.classList.add("pagination__progress"),r.setAttribute(`data-pagination-progress${t}`,n),i.appendChild(r)}this.PAGINATION_CONTAINER.appendChild(i)}this.setActivePaginationItem(),this.setActivePaginationProgress(),this.PAGINATION_BULLETS.forEach(t=>t.addEventListener("click",()=>{this.currentSlide=t.parentElement.getAttribute("data-pagination-item"),this.setInnerSlider(),this.currentSlideInner=0,this.updateInner(),this.update(),this.checkBlockBtns()}))}setActivePaginationItem(){this.PAGINATION_CONTAINER.querySelectorAll(".pagination__item").forEach(e=>{e.classList.remove("pagination__item--active"),e.getAttribute("data-pagination-item")==this.currentSlide&&e.classList.add("pagination__item--active")})}setActivePaginationProgress(){this.PAGINATION_CONTAINER.querySelectorAll(".pagination__progress").forEach(e=>{e.classList.remove("pagination__progress--active"),e.getAttribute(`data-pagination-progress${this.currentSlide}`)==this.currentSlideInner&&e.classList.add("pagination__progress--active")})}resize(){this.setSizeInner(),this.updateInner(),this.setSize(),this.update()}touchStart(e){this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY}touchEnd(e){this.touchEndX=e.changedTouches[0].screenX,this.touchEndY=e.changedTouches[0].screenY,this.swipe()}swipe(){const e=this.touchEndX-this.touchStartX,t=this.touchEndY-this.touchStartY;Math.abs(e)>Math.abs(t)&&Math.abs(e)>this.minSwipeDistance&&(e>0?this.prev():this.next())}}const p=()=>[{code:"+7",flag:"üá∑üá∫",name:"Russia"},{code:"+1",flag:"üá∫üá∏",name:"USA"},{code:"+44",flag:"üá¨üáß",name:"UK"},{code:"+49",flag:"üá©üá™",name:"Germany"},{code:"+86",flag:"üá®üá≥",name:"China"},{code:"+91",flag:"üáÆüá≥",name:"India"},{code:"+81",flag:"üáØüáµ",name:"Japan"},{code:"+33",flag:"üá´üá∑",name:"France"}];class E{constructor(){this.FORM=document.querySelector(".contacts-form"),this.SELECTOR=this.FORM.querySelector(".contacts-form__selector"),this.DROPDOWN=this.FORM.querySelector(".contacts-form__dropdown"),this.PHONE=this.FORM.querySelector(".contacts-form__phone"),this.countries=p(),this.currentCountry=this.countries[0],this.handleDropdownToggle=()=>this.dropdownToggle(),this.handlePhoneInput=e=>this.phoneInput(e)}init(){this.on()}on(){this.setDropdown(),this.SELECTOR.addEventListener("click",this.handleDropdownToggle),this.PHONE.addEventListener("input",this.handlePhoneInput)}off(){}setDropdown(){this.countries.forEach((e,t)=>{const i=document.createElement("button");i.type="button",i.className="contacts-form__dropdown-option",i.textContent=e.flag,t>1&&(i.disabled=!0),i.addEventListener("click",()=>{this.currentCountry=e,this.SELECTOR.innerHTML=e.flag,this.DROPDOWN.classList.remove("contacts-form__dropdown--open"),this.PHONE.value=e.code,this.PHONE.focus()}),this.DROPDOWN.appendChild(i)})}dropdownToggle(){this.DROPDOWN.classList.toggle("contacts-form__dropdown--open")}phoneInput(e){let t=e.target.value.replace(/\D/g,"");const i=this.currentCountry.code.replace(/\D/g,"");t.startsWith(i)&&(t=t.slice(i.length));let s="";t.length>0&&(s=this.currentCountry.code,this.currentCountry.name==="USA"?t.length<=3?s+=t:t.length<=6?s+=`(${t.slice(0,3)}) ${t.slice(3)}`:s+=`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`:t.length<=3?s+=t:t.length<=6?s+=`(${t.slice(0,3)}) ${t.slice(3)}`:t.length<=8?s+=`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6)}`:s+=`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,8)}-${t.slice(8,10)}`),e.target.value=s}}class I{constructor(){this.MENU=document.querySelector(".header__menu"),this.MENU_BTN=document.querySelector(".header__menu-btn"),this.MENU_LINKS=this.MENU.querySelectorAll("a"),this.handleClose=()=>this.close(),this.handleToggle=()=>this.toggle()}open(){this.MENU.classList.add("header__menu--open"),this.MENU_BTN.classList.add("header__menu-btn--open")}close(){this.MENU.classList.remove("header__menu--open"),this.MENU_BTN.classList.aremovedd("header__menu-btn--open")}toggle(){this.MENU.classList.toggle("header__menu--open"),this.MENU_BTN.classList.toggle("header__menu-btn--open")}on(){this.MENU_BTN.addEventListener("click",this.handleToggle),this.MENU_LINKS.forEach(e=>e.addEventListener("click",this.handleClose))}off(){this.MENU_BTN.removeEventListener("click",this.handleClose),this.MENU_BTN.removeEventListener("click",this.handleToggle)}init(){this.on()}}const S=()=>({terminal:{title:"–í–û–ö–ó–ê–õ –†–£–°–ö–ï–ê–õ–¨–°–ö–û–ì–û –≠–ö–°–ü–†–ï–°–°–ê",description:`–ù–∞ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–∏ –±—ã–ª–æ –∑–∞–ª–æ–∂–µ–Ω–æ –ø—è—Ç—å –∫–∞—Ä—å–µ—Ä–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Å –ø–æ–º–æ—â—å—é –±—É—Ä–µ–Ω–∏—è 
          –∏ –∑–∞–∫–ª–∞–¥–∫–∏ –ø–æ—Ä–æ—Ö–æ–≤—ã—Ö –∑–∞—Ä—è–¥–æ–≤ –¥–æ–±—ã–≤–∞–ª—Å—è –º—Ä–∞–º–æ—Ä —á–µ—Ç—ã—Ä—ë—Ö —Ü–≤–µ—Ç–æ–≤ ‚Äî –ø–µ–ø–µ–ª—å–Ω–æ-—Å–µ—Ä–æ–≥–æ, 
          —Å–µ—Ä–æ-–∑–µ–ª—ë–Ω–æ–≥–æ, –±–µ–ª–æ–≥–æ —Å —Å–µ—Ä—ã–º–∏ –ø—Ä–æ–∂–∏–ª–∫–∞–º–∏ –∏ –±–µ–ª–æ-—Å–∏–Ω–µ-—Å–µ—Ä–æ–≥–æ.`,images:["images/hero/gallery/terminal-1.jpg","images/hero/gallery/terminal-2.jpg"]},career:{title:"–ò–¢–ê–õ–¨–Ø–ù–°–ö–ò–ô –ö–ê–†–¨–ï–†",description:`–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –∫–∞—Ä—å–µ—Ä –≤ –†—É—Å–∫–µ–∞–ª–∞ ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ–±–ª–∞–¥–∞—é—â–∞—è –æ—Å–æ–±–æ–π —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–æ–π. 
          
        –ë—ã–≤—à–∏–π –±–ª–æ—á–Ω—ã–π –†—É—Å–∫–µ–∞–ª—å—Å–∫–∏–π –∫–∞—Ä—å–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã —Å –≤–∞–º–∏ –Ω–∞—Ö–æ–¥–∏–º—Å—è, —Å –ª–µ–≥–∫–æ–π —Ä—É–∫–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π –±—ã–ª –Ω–∞–∑–≤–∞–Ω ¬´–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–º¬ª –∏–º–µ–Ω–Ω–æ –ø–æ —Ç–æ–π –ø—Ä–∏—á–∏–Ω–µ, —á—Ç–æ –∑–¥–µ—Å—å –≤ 1974-1985 –≥–æ–¥–∞—Ö –ø—Ä–∏ –¥–æ–±—ã—á–µ –º—Ä–∞–º–æ—Ä–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Å—Ç–∞–Ω–∫–∏ –∫–∞–Ω–∞—Ç–Ω–æ–≥–æ –ø–∏–ª–µ–Ω–∏—è, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤ –ò—Ç–∞–ª–∏–∏.
          
        –≠—Ç–æ—Ç –≥—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–π –ø–∞–º—è—Ç–Ω–∏–∫ –ø—Ä–∏—Ä–æ–¥—ã –∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏—Ç—è–≥–∏–≤–∞–µ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞.`,images:["images/hero/gallery/career-1.jpg","images/hero/gallery/career-2.jpg","images/hero/gallery/career-3.jpg"]},lake:{title:"–û–ó–ï–†–û –°–í–ï–¢–õ–û–ï",description:`–û–∑–µ—Ä–æ –°–≤–µ—Ç–ª–æ–µ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –∫–∞—Ä—å–µ—Ä–æ–≤, –≥–¥–µ –¥–æ–±—ã–≤–∞–ª–∏ –º—Ä–∞–º–æ—Ä –≤ –ì–æ—Ä–Ω–æ–º –ü–∞—Ä–∫–µ –†—É—Å–∫–µ–∞–ª–∞. 

        –°–æ —Å—Ç–æ—Ä–æ–Ω—ã –ò—Ç–∞–ª—å—è–Ω—Å–∫–æ–≥–æ –ö–∞—Ä—å–µ—Ä–∞ –±–µ—Ä–µ–≥ –æ–∑–µ—Ä–∞ –°–≤–µ—Ç–ª–æ–µ –∑–∞–≤–∞–ª–µ–Ω –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π –ø–æ—Ä–æ–¥–æ–π –º—Ä–∞–º–æ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –∑–∞–±—Ä–∞–∫–æ–≤–∞–Ω–∞ –ø—Ä–∏ –¥–æ–±—ã—á–µ. 
        
        –°–≤–∞–ª–∫–∞ –æ–≥—Ä–æ–º–Ω—ã—Ö –∫–∞–º–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –≤—ã–≥–ª—è–¥–∏—Ç –æ—á–µ–Ω—å –∂–∏–≤–æ–ø–∏—Å–Ω–æ. –û–Ω–∏ –≤–æ–∑–≤—ã—à–∞—é—Ç—Å—è –Ω–∞–¥ –±–µ—Ä–µ–≥–æ–º –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ –º–µ—Ç—Ä–æ–≤. –í—Å–µ –º—Ä–∞–º–æ—Ä–Ω—ã–µ –±–ª–æ–∫–∏ –∏–º–µ—é—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —Å–ª–µ–¥—ã –æ—Ç –±—É—Ä–æ–≤—ã—Ö –º–∞—à–∏–Ω. `,images:["images/hero/gallery/lake-1.webp","images/hero/gallery/lake-2.webp"]},heart:{title:"–°–ï–†–î–¶–ï –†–£–°–ö–ï–ê–õ–ê",description:`–ë–æ–ª—å—à–æ–π –ø—Ä–æ–≤–∞–ª, —Å –≤—ã—Å–æ—Ç—ã –ø—Ç–∏—á—å–µ–≥–æ –ø–æ–ª–µ—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–∏–π —Å–µ—Ä–¥—Ü–µ. 
        –¢–∞–∫–∂–µ –µ–≥–æ –Ω–∞–∑—ã–≤–∞—é—Ç –†—É—Å–∫–µ–∞–ª—å—Å–∫–∏–º –ø—Ä–æ–≤–∞–ª–æ–º –∏–ª–∏ –ú—Ä–∞–º–æ—Ä–Ω—ã–º –∫–æ–ª–æ–∫–æ–ª–æ–º.
        
        –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–∞–º –ü—Ä–æ–≤–∞–ª –ø–æ—è–≤–∏–ª—Å—è –∑–¥–µ—Å—å –∫–∞–∫ —Ä–∞–∑ –∏–∑-–∑–∞ —ç—Ç–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–∞–±–æ—Ç ‚Äî –≤–∑—Ä—ã–≤–æ–≤ –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö –º—Ä–∞–º–æ—Ä–Ω—ã—Ö –∫–∞—Ä—å–µ—Ä–∞—Ö, –∫–æ–≥–¥–∞ –ø–æ–¥—Ç–æ—á–µ–Ω–Ω–∞—è –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞–º–∏ –≥–æ—Ä–Ω–∞—è –ø–æ—Ä–æ–¥–∞, –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª–∞, –∏ –æ—Å—ã–ø–∞–ª–∞—Å—å, –æ–±—Ä–∞–∑–æ–≤–∞–≤ –æ–≥—Ä–æ–º–Ω—É—é –¥—ã—Ä—É –≤ –∑–µ–º–ª–µ.
        `,images:["images/hero/gallery/heart-1.jpg","images/hero/gallery/heart-2.jpg","images/hero/gallery/heart-3.webp"]},canyon:{title:"–ú–†–ê–ú–û–†–ù–´–ô –ö–ê–ù–¨–û–ù",description:`–í 1765 –≥. –±—ã–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏—è –º—Ä–∞–º–æ—Ä–∞ –≤ —Ä–∞–π–æ–Ω–µ –†—É—Å–∫–µ–∞–ª–∞. –≠—Ç–æ—Ç –±–µ–ª–æ-—Å–µ—Ä—ã–π –∫–∞–º–µ–Ω—å —Å –æ—Ç—Ç–µ–Ω–∫–∞–º–∏ –æ—Ç —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä–æ–≥–æ –¥–æ –∑–µ–ª–µ–Ω–æ–≤–∞—Ç–æ–≥–æ –Ω–∞—à–ª–∏ –≤ –ø–æ—Ä–æ—Å—à–µ–º —Ö–≤–æ–π–Ω—ã–º –ª–µ—Å–æ–º —Ö–æ–ª–º–µ —Å–æ–≤—Å–µ–º –Ω–µ–¥–∞–ª–µ–∫–æ –æ—Ç –∂–∏–≤–æ–ø–∏—Å–Ω—ã—Ö –†—É—Å–∫–µ–∞–ª—å—Å–∫–∏—Ö –≤–æ–¥–æ–ø–∞–¥–æ–≤.
        
        –í—Å–∫–æ—Ä–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –¥–æ–±—ã—á–∞ –º—Ä–∞–º–æ—Ä–∞. –†—É—Å–∫–µ–∞–ª—å—Å–∫–∏–π —Å–µ—Ä—ã–π –º—Ä–∞–º–æ—Ä —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ø—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ –ò—Å–∞–∞–∫–∏–µ–≤—Å–∫–æ–≥–æ –∏ –ö–∞–∑–∞–Ω—Å–∫–æ–≥–æ —Å–æ–±–æ—Ä–æ–≤, –ú—Ä–∞–º–æ—Ä–Ω–æ–≥–æ, –¢–∞–≤—Ä–∏—á–µ—Å–∫–æ–≥–æ –∏ –ó–∏–º–Ω–µ–≥–æ –¥–≤–æ—Ä—Ü–æ–≤ –°–∞–Ω–∫—Ç - –ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞.`,images:["images/hero/gallery/canyon-1.jpg","images/hero/gallery/canyon-2.webp"]},parking:{title:"–ü–ê–†–ö–û–í–ö–ê",description:`–í –≥–æ—Ä–Ω–æ–º –ø–∞—Ä–∫–µ ¬´–†—É—Å–∫–µ–∞–ª–∞¬ª –æ—Ç–∫—Ä—ã–ª–∏ –Ω–æ–≤—É—é –ø—Ä–æ—Å—Ç–æ—Ä–Ω—É—é –ø–∞—Ä–∫–æ–≤–∫—É. –¢–µ–ø–µ—Ä—å –∫ –ø–∞—Ä–∫—É —É–¥–æ–±–Ω–æ –ø–æ–¥—ä–µ–∑–∂–∞—Ç—å –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –º–∞—à–∏–Ω—É —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –Ω–æ–≤–æ–π –¥–æ—Ä–æ–≥–∏ –Ω–∞ –†—É—Å–∫–µ–∞–ª—É. –ö–∞—Å—Å—ã —Ñ–µ—Å—Ç–∏–≤–∞–ª—è –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤—Ö–æ–¥–µ —Å –Ω–æ–≤–æ–π –ø–∞—Ä–∫–æ–≤–∫–∏, —Å–æ–æ–±—â–∞–µ—Ç—Å—è –≤ –≥—Ä—É–ø–ø–µ ¬´–ö–∞—Ä–µ–ª—å—Å–∫–∞—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ–∏–ª–∞—Ä–º–æ–Ω–∏—è¬ª.

–ß—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –Ω–æ–≤—É—é –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—É—é –∑–æ–Ω—É, –Ω—É–∂–Ω–æ –ø—Ä–æ–µ—Ö–∞—Ç—å –ø–æ–≤–æ—Ä–æ—Ç –∫ –ø–µ—Ä–≤–æ–π –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–π –∑–æ–Ω–µ –ø–æ —É–ª–∏—Ü–µ –õ–µ—Å–æ–ø–∏–ª—å–Ω–æ–π –∏ —Å–≤–µ—Ä–Ω—É—Ç—å –Ω–∞–ª–µ–≤–æ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ–≤–æ—Ä–æ—Ç–µ.

–ù–∞ —Ç—Ä–∞—Å—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–∞—Ä–∫–∞ –Ω–∞–ø—Ä–∞–≤–∏—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –≤ –Ω—É–∂–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –ù–æ–≤—É—é –∑–æ–Ω—É –±–æ–ª—å—à–∏–µ –∞–≤—Ç–æ–±—É—Å—ã –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –∞–≤—Ç–æ–º–æ–±–∏–ª–∏—Å—Ç–∞–º –±—É–¥–µ—Ç —É–¥–æ–±–Ω–µ–µ –ø–∞—Ä–∫–æ–≤–∞—Ç—å—Å—è.`,images:["images/hero/gallery/parking-1.jpg","images/hero/gallery/parking-2.webp"]}});class _{constructor(){this.placesData=S(),this.elements={places:document.querySelectorAll(".hero__place"),placesContainer:document.querySelector(".hero__places"),placesBtn:document.querySelector(".hero__places-btn"),modal:document.querySelector(".hero__modal"),modalBody:document.querySelector(".hero__modal-body"),title:document.querySelector(".hero__modal-title"),description:document.querySelector(".hero__modal-description"),closeBtn:document.querySelector(".hero__modal-close"),viewBtn:document.querySelector(".hero__modal-view"),gallery:document.querySelector(".gallery")},this.state={currentImages:[],currentImageIndex:0,currentPlaceId:null,isModalVisible:!1,isGalleryVisible:!1},this.eventHandlers=new Map,this.onPlaceClick=this.onPlaceClick.bind(this),this.onCloseClick=this.onCloseClick.bind(this),this.onViewClick=this.onViewClick.bind(this),this.onResize=this.onResize.bind(this),this.onEscapeKey=this.onEscapeKey.bind(this),this.onGalleryNext=this.onGalleryNext.bind(this),this.onGalleryPrev=this.onGalleryPrev.bind(this),this.onGalleryClose=this.onGalleryClose.bind(this),this.onPlacesToggleVisible=this.toggleVisiblePlaces.bind(this)}setupGallery(){this.elements.gallery.querySelector(".gallery__close").addEventListener("click",this.onGalleryClose),this.elements.gallery.querySelector(".gallery__prev").addEventListener("click",this.onGalleryPrev),this.elements.gallery.querySelector(".gallery__next").addEventListener("click",this.onGalleryNext),this.elements.gallery.querySelector(".gallery__overlay").addEventListener("click",this.onGalleryClose)}showGallery(e,t=0){this.setupGallery(),this.state.currentImages=e,this.state.currentImageIndex=t,this.state.isGalleryVisible=!0,this.updateGallery(),this.elements.gallery.classList.add("gallery--active"),document.body.style.overflow="hidden"}updateGallery(){const e=this.elements.gallery.querySelector(".gallery__image"),t=this.elements.gallery.querySelector(".gallery__counter");e.src=this.state.currentImages[this.state.currentImageIndex],e.alt=`–§–æ—Ç–æ ${this.state.currentImageIndex+1} –∏–∑ ${this.state.currentImages.length}`,t.textContent=`${this.state.currentImageIndex+1} / ${this.state.currentImages.length}`}onGalleryNext(){this.state.currentImageIndex<this.state.currentImages.length-1&&(this.state.currentImageIndex++,this.updateGallery())}onGalleryPrev(){this.state.currentImageIndex>0&&(this.state.currentImageIndex--,this.updateGallery())}onGalleryClose(){this.elements.gallery.classList.remove("gallery--active"),this.state.isGalleryVisible=!1,document.body.style.overflow="",setTimeout(()=>{this.elements.gallery.style.display="none"},300)}onPlaceClick(e){const i=e.currentTarget.getAttribute("data-id"),s=this.placesData[i];s&&(this.state.currentPlaceId=i,this.showModal(e,s),this.emit("placeClick",e))}onCloseClick(){this.hideModal(),this.emit("modalClose")}onViewClick(){if(this.state.currentPlaceId&&this.placesData[this.state.currentPlaceId].images){const e=this.placesData[this.state.currentPlaceId].images;e.length>0&&(this.elements.gallery.style.display="block",this.showGallery(e,0))}}onResize(){this.onCloseClick()}onEscapeKey(e){e.key==="Escape"&&(this.state.isGalleryVisible?this.onGalleryClose():this.state.isModalVisible&&this.hideModal())}calculateModalPosition(e){const n=window.innerWidth/2,r=window.innerHeight/2,a=e.left+e.width/2,c=e.top+e.height/2;let h,o;return a<n&&c<r?(h=e.right+window.scrollX+10,o=e.top+window.scrollY):a>=n&&c<r?(h=e.left+window.scrollX-500-10,o=e.top+window.scrollY):a<n&&c>=r?(h=e.right+window.scrollX+10,o=e.bottom+window.scrollY-510):(h=e.left+window.scrollX-500-10,o=e.bottom+window.scrollY-510),this.constrainToViewport(h,o,500,510)}constrainToViewport(e,t,i,s){const n=window.innerWidth,r=window.innerHeight,a=10;return{left:Math.max(a,Math.min(e,n-i-a)),top:Math.max(a,Math.min(t,r-s-a))}}showModal(e,t){const i=e.target.getBoundingClientRect(),{left:s,top:n}=this.calculateModalPosition(i);this.elements.modal.style.top=`${n}px`,this.elements.modal.style.left=`${s}px`,this.elements.title.textContent=t.title,this.elements.description.innerText=t.description,this.elements.viewBtn.style.display=t.images?.length>0?"flex":"none",this.elements.modal.style.display="block",this.state.isModalVisible=!0}hideModal(){this.elements.modal.style.display="none",this.state.isModalVisible=!1,this.state.currentPlaceId=null}toggleVisiblePlaces(){this.elements.placesBtn.classList.toggle("hero__places-btn--close"),this.elements.placesContainer.classList.toggle("hero__places--close")}on(e,t){this.eventHandlers.has(e)||this.eventHandlers.set(e,new Set),this.eventHandlers.get(e).add(t)}off(e,t){if(this.eventHandlers.has(e)){const i=this.eventHandlers.get(e);i.delete(t),i.size===0&&this.eventHandlers.delete(e)}}emit(e,...t){this.eventHandlers.has(e)&&this.eventHandlers.get(e).forEach(i=>i(...t))}init(){this.elements.places.forEach(e=>{e.addEventListener("click",this.onPlaceClick),e.getAttribute("data-id")==="terminal"&&e.click()}),this.elements.closeBtn.addEventListener("click",this.onCloseClick),this.elements.viewBtn.addEventListener("click",this.onViewClick),this.elements.placesBtn.addEventListener("click",this.onPlacesToggleVisible),window.addEventListener("resize",this.onResize),document.addEventListener("keydown",this.onEscapeKey),window.matchMedia("(max-width: 767px)").matches&&(this.onCloseClick(),this.onPlacesToggleVisible())}destroy(){this.elements.places.forEach(e=>{e.removeEventListener("click",this.onPlaceClick)}),this.elements.closeBtn.removeEventListener("click",this.onCloseClick),this.elements.viewBtn.removeEventListener("click",this.onViewClick),window.removeEventListener("resize",this.onResize),document.removeEventListener("keydown",this.onEscapeKey),this.elements.gallery&&this.elements.gallery.remove(),this.eventHandlers.clear(),this.hideModal(),this.state.isGalleryVisible&&this.onGalleryClose()}}class d{constructor(e){this.SLIDER=document.querySelector(e),this.WRAPPER=this.SLIDER.querySelector(".slider-wrapper"),this.LIST=this.SLIDER.querySelector(".slider-list"),this.PREV=this.SLIDER.querySelector(".slider-btn--prev"),this.NEXT=this.SLIDER.querySelector(".slider-btn--next"),this.PAGINATION_CONTAINER=this.SLIDER.querySelector(".slider-pagination"),this.gap=0,this.slideSize=0,this.totalSlides=0,this.visibleSlides=0,this.currentSlide=0,this.isPagination=!1,this.touchStartX=0,this.touchEndX=0,this.touchStartY=0,this.touchEndY=0,this.minSwipeDistance=50,this.handlePrev=()=>this.prev(),this.handleNext=()=>this.next(),this.handleResize=()=>this.resize(),this.handlePagination=t=>this.pagination(t),this.handleTouchStart=t=>this.touchStart(t),this.handleTouchEnd=t=>this.touchEnd(t),this.init()}get offset(){return(this.slideSize+this.gap)*this.currentSlide}get isMobile(){return window.matchMedia("(max-width: 767px)").matches}get isLast(){return this.currentSlide>=this.totalSlides-1}get isFirst(){return this.currentSlide<=0}init(){if(!this.LIST.firstElementChild){console.error("slides not found");return}this.setSize(),this.setVisibleSlidesCount(),this.setGap(),this.setTotal(),this.on()}setSize(){this.slideSize=this.LIST.firstElementChild.getBoundingClientRect().width}setVisibleSlidesCount(){this.visibleSlides=this.getVisibleHorizontalItems(this.LIST)}setGap(){this.gap=parseInt(window.getComputedStyle(this.LIST).gap)}setTotal(){this.totalSlides=this.LIST.childElementCount}setPaginationBtns(){for(let e=0;e<this.totalSlides;e++)this.PAGINATION_CONTAINER?.appendChild(this.createPaginationBtn(e))}createPaginationBtn(e){const t=document.createElement("button");return t.type="button",t.classList.add("slider-bullet"),t.setAttribute("data-pagination",e),t.ariaLabel=e+1+" —Å–ª–∞–π–¥",e==this.currentSlide&&t.classList.add("slider-bullet--active"),t.addEventListener("click",this.handlePagination),t}on(){this.PREV.addEventListener("click",this.handlePrev),this.NEXT.addEventListener("click",this.handleNext),this.LIST.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.LIST.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("resize",this.handleResize),this.isMobile&&(this.setPaginationBtns(),this.isPagination=!0)}off(){this.PREV.removeEventListener("click",this.handlePrev),this.NEXT.removeEventListener("click",this.handleNext),this.LIST.removeEventListener("touchstart",this.handleTouchStart),this.LIST.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("resize",this.handleResize)}touchStart(e){this.touchStartX=e.changedTouches[0].screenX,this.touchStartY=e.changedTouches[0].screenY}touchEnd(e){this.touchEndX=e.changedTouches[0].screenX,this.touchEndY=e.changedTouches[0].screenY,this.swipe()}swipe(){const e=this.touchEndX-this.touchStartX,t=this.touchEndY-this.touchStartY;Math.abs(e)>Math.abs(t)&&Math.abs(e)>this.minSwipeDistance&&(e>0?this.prev():this.next())}prev(){this.isFirst||(this.currentSlide--,this.update(),this.checkBlockBtns())}next(){this.isLast||(this.currentSlide++,this.update(),this.checkBlockBtns())}update(){this.LIST.style=`translate: -${this.offset}px 0`,this.isPagination&&this.updatePagination()}resize(){this.setVisibleSlidesCount(),this.setSize(),this.update(),this.isMobile&&!this.PAGINATION_CONTAINER?.childElementCount?(this.setPaginationBtns(),this.isPagination=!0):!this.isMobile&&this.PAGINATION_CONTAINER?.childElementCount&&(this.PAGINATION_CONTAINER.replaceChildren(),this.isPagination=!1)}pagination(e){const t=e.target.getAttribute("data-pagination");Number.isNaN(t)||(this.currentSlide=parseInt(t),this.update(),this.updatePagination(),this.checkBlockBtns())}updatePagination(){this.PAGINATION_CONTAINER?.childNodes.forEach((e,t)=>{t==this.currentSlide?e.classList.add("slider-bullet--active"):e.classList.remove("slider-bullet--active")})}getVisibleHorizontalItems(e){const t=e.getBoundingClientRect();return Array.from(e.children).filter(s=>{const n=s.getBoundingClientRect();return n.left>=t.left&&n.right<=t.right}).length}checkBlockBtns(){this.PREV.disabled=!1,this.NEXT.disabled=!1,this.isFirst&&(this.PREV.disabled=!0),this.isLast&&(this.NEXT.disabled=!0)}}class N{constructor(e){this.CONTAINER=e.querySelector(".custom-select"),this.BTN=this.CONTAINER.querySelector(".custom-select__btn"),this.INPUT=this.CONTAINER.querySelector(".custom-select__input"),this.DROPDOWN=this.CONTAINER.querySelector(".custom-select__dropdown"),this.ITEMS=this.CONTAINER.querySelectorAll(".custom-select__item"),this.TEXT=this.CONTAINER.querySelector(".custom-select__text"),this.FORM=e,this.handleToggle=()=>this.toggle(),this.init()}init(){this.BTN.addEventListener("click",this.handleToggle),this.ITEMS.forEach(e=>{e.addEventListener("click",()=>this.selectItem(e))}),this.FORM.addEventListener("click",e=>{this.CONTAINER.contains(e.target)||this.close()})}toggle(){this.CONTAINER.classList.toggle("custom-select--open")}open(){this.CONTAINER.classList.add("custom-select--open")}close(){this.CONTAINER.classList.remove("custom-select--open")}selectItem(e){const t=e.dataset.value,i=e.textContent;this.INPUT.value=t,this.TEXT.textContent=i,this.ITEMS.forEach(s=>s.classList.remove("custom-select__item--active")),e.classList.add("custom-select__item--active"),this.close(),this.INPUT.dispatchEvent(new Event("change",{bubbles:!0}))}getValue(){return this.INPUT.value}}class f{constructor(e){this.CONTAINER=e.querySelector(".ticket__counter"),this.DECREMENT_BTN=this.CONTAINER.querySelector(".ticket__counter-btn--decrement"),this.INCREMENT_BTN=this.CONTAINER.querySelector(".ticket__counter-btn--increment"),this.INPUT=this.CONTAINER.querySelector(".ticket__counter-input"),this.handleDecrement=()=>this.decrement(),this.handleIncrement=()=>this.increment(),this.handleValidate=()=>this.validate(),this.handleInput=()=>this.validate(!0),this.init()}init(){this.DECREMENT_BTN.addEventListener("click",this.handleDecrement),this.INCREMENT_BTN.addEventListener("click",this.handleIncrement),this.INPUT.addEventListener("change",this.handleValidate),this.INPUT.addEventListener("input",this.handleInput)}decrement(){let e=parseInt(this.INPUT.value)||1;e<=1||(e--,this.INPUT.value=e,this.INPUT.dispatchEvent(new Event("change",{bubbles:!0})))}increment(){let e=parseInt(this.INPUT.value)||1;const t=parseInt(this.INPUT.max)||99;e>=t||(e++,this.INPUT.value=e,this.INPUT.dispatchEvent(new Event("change",{bubbles:!0})))}validate(e){let t=parseInt(this.INPUT.value)||1;const i=parseInt(this.INPUT.min)||1,s=parseInt(this.INPUT.max)||99;t<i&&(t=i),t>s&&(t=s),this.INPUT.value=t,e&&this.INPUT.dispatchEvent(new Event("change",{bubbles:!0}))}getValue(){return parseInt(this.INPUT.value)||1}}const u={adult:500,children:250};class m{constructor(e,t){this.form=document.querySelector(e),this.select=new N(this.form),this.counter=new f(this.form),this.dateInput=this.form.querySelector(".ticket__form-date"),this.priceElement=this.form.querySelector(".ticket__price"),this.submitBtn=this.form.querySelector(".ticket__submit-btn"),this.REMOVE_BTN=document.querySelector(".ticket__form-remove"),this.handleUpdatePrice=()=>this.updatePrice(),this.handleValidateDate=()=>this.updatePrice(),this.handleSubmit=i=>this.submit(i),this.handleRemove=t,this.init()}get domElement(){return this.form}init(){this.submitBtn.disabled=!1,this.submitBtn.classList.remove("ticket__submit-btn--submited"),this.submitBtn.textContent="–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É",this.select.INPUT.addEventListener("change",this.handleUpdatePrice),this.counter.INPUT.addEventListener("change",this.handleUpdatePrice),this.dateInput.addEventListener("change",this.handleValidateDate),this.REMOVE_BTN.addEventListener("click",this.handleRemove),this.form.addEventListener("submit",this.handleSubmit),this.updatePrice(),this.validateDate()}updatePrice(){const e=this.select.getValue(),t=this.counter.getValue(),i=u[e]*t;this.priceElement.textContent=`${i}.00 ‚ÇΩ`}validateDate(){const e=new Date(this.dateInput.value),t=new Date;t.setHours(0,0,0,0),e<t?this.dateInput.setCustomValidity("–î–∞—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º"):this.dateInput.setCustomValidity("")}submit(e){if(e.preventDefault(),!this.form.checkValidity()){this.form.reportValidity();return}const t=this.getFormData();console.log(t),this.updatePrice(),this.showSuccessMessage()}getFormData(){return{type:this.select.getValue(),typeName:this.select.TEXT.textContent,date:this.dateInput.value||new Date().toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),quantity:this.counter.getValue(),price:u[this.select.getValue()],total:u[this.select.getValue()]*this.counter.getValue()}}showSuccessMessage(){this.submitBtn.textContent="–î–æ–±–∞–≤–ª–µ–Ω–æ!",this.submitBtn.classList.add("ticket__submit-btn--submited"),this.submitBtn.disabled=!0}}class v{constructor(){this.FORM_CONTAINER=document.querySelector(".ticket__form-container"),this.ADD_MORE=document.querySelector(".ticket__form-add"),this.FORM_LIST=new Map,this.handleRemove=e=>this.remove(e),this.initialForm=new m(".ticket__form",this.handleRemove),this.formCount=1,this.handleAddMore=e=>this.addMore(e)}init(){this.FORM_LIST.set(this.initialForm.domElement.id,this.initialForm),this.ADD_MORE.addEventListener("click",this.handleAddMore)}addMore(){const e=this.deepCloneClassNames(this.initialForm.domElement.cloneNode(!0),this.formCount+=1);e.id+=`--${this.formCount}`,e.reset(),this.FORM_CONTAINER.prepend(e);const t=new m(`#${e.id}`,this.handleRemove);this.FORM_LIST.set(t.domElement.id,t)}deepCloneClassNames(e,t){return[...e.children].forEach(i=>{i.id&&(i.id+=`--${t}`),i.hasChildNodes()&&this.deepCloneClassNames(i,t)}),e.classList.add(e.classList[0]+`--${t}`),e.tagName==="LABEL"&&e.htmlFor&&(e.htmlFor+=`--${t}`),e}remove(e){const t=e.target.parentElement.id;this.FORM_LIST.delete(t),document.getElementById(t).remove()}}document.addEventListener("DOMContentLoaded",()=>{new I().init(),new _().init(),new v().init(),new d(".excursions__slider"),new g().init(),new d(".events__slider"),new d(".catering__slider"),new E().init()});
